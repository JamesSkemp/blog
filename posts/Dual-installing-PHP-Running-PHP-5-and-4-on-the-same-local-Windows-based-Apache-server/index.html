<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.15" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans|Marcellus+SC'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <link rel="stylesheet" href="http://jamesskemp.github.io/blog/css/styles.css">
    <link rel="stylesheet" href="http://jamesskemp.github.io/blog/css/custom.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://jamesskemp.github.io/blog//index.xml">

    
    <title>Dual-installing PHP: Running PHP 5 and 4 on the same local, Windows-based, Apache, server - James Skemp&#39;s Test Hugo-Generated Site</title>
    <meta property='og:title' content="Dual-installing PHP: Running PHP 5 and 4 on the same local, Windows-based, Apache, server - James Skemp&#39;s Test Hugo-Generated Site">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="http://jamesskemp.github.io/blog/posts/Dual-installing-PHP-Running-PHP-5-and-4-on-the-same-local-Windows-based-Apache-server/">
    
    

  </head>

  <body>

    <header class="site">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://jamesskemp.github.io/blog/">James Skemp&#39;s Test Hugo-Generated Site</a>
          </div>

          <div id="navbar" class="collapse navbar-collapse">
            
          </div>

        </div>
      </nav>
    </header>

    <div class="site">
      <div class="container">



<div class="single">

  <div class="row">
    <div class="col-md-8">

      <article class="single" itemscope="itemscope" itemtype="http://schema.org/Article">

        <meta itemprop="mainEntityOfPage"  itemType="https://schema.org/WebPage" content="http://jamesskemp.github.io/blog/"/>
        <meta itemprop="dateModified" content="2006-07-18T20:34:00-05:00">
        <meta itemprop="headline" content="Dual-installing PHP: Running PHP 5 and 4 on the same local, Windows-based, Apache, server">
        <meta itemprop="description" content="In previous guides, we installed PHP 4.4.2 and later moved our installation to a different folder. This time, we&#39;ll be installing the current release of PHP 5 (5.1.4) so that we can still switch back to PHP 4.4.2 if we&#39;d like. Downloading PHP 5.x The current version of PHP 5.x is 5.1.4, so we&#39;ll begin by downloading that from PHP.net. We&rsquo;ll want to download the (Windows Binaries) zip file, even though it is significantly larger in size than the installer (the zip file is almost 9 MB, compared to less than 3 MB for the executable), but allows us a deal more flexibility.">
        <meta itemprop="url" content="http://jamesskemp.github.io/blog/posts/Dual-installing-PHP-Running-PHP-5-and-4-on-the-same-local-Windows-based-Apache-server/">
        <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
          <meta itemprop="url" content="http://jamesskemp.github.io/blog/images/default.jpg" />
          <meta itemprop="width" content="800">
          <meta itemprop="height" content="800">
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
          <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <meta itemprop="url" content="http://jamesskemp.github.io/blog/images/logo.jpg">
            <meta itemprop="width" content="100">
            <meta itemprop="height" content="100">
          </div>
          <meta itemprop="name" content="James Skemp&#39;s Test Hugo-Generated Site">
        </div>
        <div itemprop="author" itemscope itemtype="https://schema.org/Person">
          <meta itemprop="name" content="">
        </div>

        <header class="article-header">
          <time itemprop="datePublished" pubdate="pubdate" datetime="2006-07-18T20:34:00-05:00">Tue, Jul 18, 2006</time>
          <h1 class="article-title">Dual-installing PHP: Running PHP 5 and 4 on the same local, Windows-based, Apache, server</h1>
        </header>

        <div class="article-body" itemprop="articleBody">
          <p>In previous guides, we <a href="http://strivinglife.com/words/post/Installing-PHP-on-a-local-Windows-based-Apache-server.aspx">installed PHP 4.4.2</a> and later <a href="http://strivinglife.com/words/post/Moving-the-location-of-PHP-on-your-hard-drive.aspx">moved our installation to a different folder</a>. This time, we'll be installing the current release of PHP 5 (5.1.4) so that we can still switch back to PHP 4.4.2 if we'd like.</p>
<h3>Downloading PHP 5.x</h3>
<p>The current version of PHP 5.x is 5.1.4, so we'll begin by downloading that from PHP.net. We&rsquo;ll want to download the (Windows Binaries) zip file, even though it is significantly larger in size than the installer (the zip file is almost 9 MB, compared to less than 3 MB for the executable), but allows us a deal more flexibility.</p>
<h3>Installing</h3>
<p>Once you've downloaded the zip file, extract the contents to a folder called c:\php5\. Once done, php.exe will have the full path of c:\php5\php.exe.</p>
<p>As with the PHP 4 installation, the install.txt file will detail how to install PHP 5. However, since you're using this guide, you shouldn't need to consult it. As with our PHP 4 installation, we'll be installing PHP 5 as a module, instead of as CGI binary (again, you can do this instead, if you so desire).</p>
<p>Start by backing up all of your httpd.conf files, in C:\Program Files\Apache Group\Apache\conf (if using the defaults). Since these work, add '_php4' to each of these backups.</p>
<p>For example, I have three httpd.conf files that I'm backing up; httpd.conf, httpd_CFMX6.1.conf, and httpd_CFMX7.01.conf. I'll be creating copies of each of these files, and calling them httpd_php4.conf, httpd_php4_CFMX6.1.conf, and httpd_php4_CFMX7.01.conf. This way I know that these use PHP 4. Once we modify the httpd.conf file(s) below, it may be a good idea to create backups and then call name them with '_php5'.</p>
<p>For the next steps, I'll be assuming that you've already installed PHP 4.</p>
<p>Begin by doing a search for</p>
<blockquote>
<p>LoadModule php4_module "c:/php4/php4apache.dll"</p>
</blockquote>
<p>Change this to</p>
<blockquote>
<p>LoadModule php5_module "c:/php5/php5apache.dll"</p>
</blockquote>
<p>Now do a search for</p>
<blockquote>
<p>AddModule mod_php4.c</p>
</blockquote>
<p>And change this to</p>
<blockquote>
<p>AddModule mod_php5.c</p>
</blockquote>
<p>Save httpd.conf. Next, head over to c:\windows\ and find the php.ini file. Rename this file to php_php4.ini (to keep with our naming standard above). We're renaming the original file, in this case, because we actually want to copy the file php.ini-dist from the c:\php5 folder to the c:\windows folder, and rename it to simply php.ini.</p>
<p>Once you've renamed the file, open it up. Once the file has been opened, do a search for doc_root and change it from</p>
<blockquote>
<p>doc_root =</p>
</blockquote>
<p>to</p>
<blockquote>
<p>doc_root = "c:\home"</p>
</blockquote>
<p>Or where your document root is for Apache.</p>
<p>Now do a search for the following line</p>
<blockquote>
<p>;session.save_path = "/tmp"</p>
</blockquote>
<p>And change that to your temporary PHP folder (in my previous guide, it ended up being</p>
<blockquote>
<p>session.save_path = "c:/windows/temp/temp_php"</p>
</blockquote>
<p>Make sure you remove the semi-colon from the beginning of the line to uncomment this line. Make sure that this folder exists.</p>
<p>Finally, search for the following line</p>
<blockquote>
<p>extension_dir = "./"</p>
</blockquote>
<p>and change it to</p>
<blockquote>
<p>extension_dir = "c:\php5\ext\"</p>
</blockquote>
<p>If you've installed <a href="http://strivinglife.com/words/post/Installing-MySQL-and-phpMyAdmin-on-a-local-Windows-based-Apache-server.aspx">MySQL</a> (this page also contains a script to check the connection), you can enable access by uncommenting the following line</p>
<blockquote>
<p>;extension=php_mysql.dll</p>
</blockquote>
<p>You'll also want to copy libmysql.dll from c:\php5\ to c:\windows\system32\.</p>
<p>If you've installed <a href="http://strivinglife.com/words/post/Installing-PostgreSQL-on-a-local-Windows-based-Apache-server.aspx">PostgreSQL</a> (this page also contains a script to check the connection), you can enable access by uncommenting the following line</p>
<blockquote>
<p>;extension=php_pgsql.dll</p>
</blockquote>
<p>Save your changes to the php.ini file, and close out of the file. You may want to create a copy of this file as php_php5.ini - this way you have both a php4 and php5 file.</p>
<p>Finally, in c:\php5\, copy php5ts.dll into the c:\windows\ folder.</p>
<p>Restart Apache, and assuming it starts, hit the phpinfo.php page (which contains the following lines).</p>
<pre class="code"><code class="php">&lt;?php
phpinfo();
?&gt;</code></pre>
<p>If you visit this page, you should be told that you're running PHP 5.1.4. You may notice that Zend Optimizer is no longer listed as being installed.</p>
<p>If you made a copy of the php.ini file for PHP 4 (php_php4.ini is what I recommended), then you can copy the last four lines from this file, which are as follows (<span style="text-decoration: line-through;">I'm including the new line as a line</span> the new line is absent from the code below, but it sits immediately before the first line below)</p>
<pre class="code"><code class="text">[Zend]
zend_extension_manager.optimizer_ts="C:\Program Files\Zend\ZendOptimizer-3.0.1\lib\Optimizer-3.0.1"
zend_extension_ts="C:\Program Files\Zend\ZendOptimizer-3.0.1\lib\ZendExtensionManager.dll"</code></pre>
<p>Paste these lines at the end of your php.ini (and php_php5.ini file, if necessary) file. Restart Apache and Optimizer 3.0.1 should display on the phpinfo() page.</p>
<p>Until then, verify that you have backups of the files that we modified in this guide; httpd.conf and php.ini. In a later guide, or update, I'll detail how to setup a batch file to automatically move the necessary files to switch from PHP 4 to PHP 5, and vice versa (again, for updates, leave a comment).</p>
<p>To manually change from PHP 4 to PHP 5, and vice versa, simply delete the existing httpd.conf file. Next, make a copy of the httpd_php4.conf or httpd_php5.conf file, and rename it to httpd.conf. Do the same thing for the php.ini file. Finally, restart Apache. As long as you keep your backup copies, you can switch back and forth fairly easily. Again, a future batch file will make this much easier, by allowing one file to do all the work for you.</p>
<h3>The batch files</h3>
<p>Below is code for two batch files. Lines beginning with === should not be entered into the batch file - they merely contain the name of the file. Note that you may need to make some modifications, based upon where you installed programs and files.</p>
<p>c:\home\zblank.txt is simply a blank file. Including blank lines, each batch file contains 12 lines (2 of which are blank).</p>
<h4>===_start php4.bat</h4>
<pre class="code"><code class="powershell">net stop "Apache"
DEL "c:\home\php4 is ready.txt"
DEL "c:\home\php5 is ready.txt"
COPY "c:\windows\php.ini" "c:\windows\php_backup.ini"
COPY "c:\windows\php_php4.ini" "c:\windows\php.ini"

COPY "C:\Program Files\Apache Group\Apache\conf\httpd_php4.conf" "C:\Program Files\Apache Group\Apache\conf\httpd.conf"
COPY "C:\Program Files\Apache Group\Apache\conf\httpd_php4_CFMX6.1.conf" "C:\Program Files\Apache Group\Apache\conf\httpd_CFMX6.1.conf"
COPY "C:\Program Files\Apache Group\Apache\conf\httpd_php4_CFMX7.01.conf" "C:\Program Files\Apache Group\Apache\conf\httpd_CFMX7.01.conf"

net start "Apache"
COPY "C:\home\zblank.txt" "C:\home\php4 is ready.txt"</code></pre>
<h4>===_start php5.bat</h4>
<pre class="code"><code class="powershell">net stop "Apache"
DEL "c:\home\php4 is ready.txt"
DEL "c:\home\php5 is ready.txt"
COPY "c:\windows\php.ini" "c:\windows\php_backup.ini"
COPY "c:\windows\php_php5.ini" "c:\windows\php.ini"

COPY "C:\Program Files\Apache Group\Apache\conf\httpd_php5.conf" "C:\Program Files\Apache Group\Apache\conf\httpd.conf"
COPY "C:\Program Files\Apache Group\Apache\conf\httpd_php5_CFMX6.1.conf" "C:\Program Files\Apache Group\Apache\conf\httpd_CFMX6.1.conf"
COPY "C:\Program Files\Apache Group\Apache\conf\httpd_php5_CFMX7.01.conf" "C:\Program Files\Apache Group\Apache\conf\httpd_CFMX7.01.conf"

net start "Apache"
COPY "C:\home\zblank.txt" "C:\home\php5 is ready.txt"</code></pre>
<p><a href="http://strivinglife.com/local-apache-server/">View all of the steps to creating a local Web server, for development.</a></p>

        </div>


        <aside>
          <div class="section"><a href="http://jamesskemp.github.io/blog/tags/php" class="tag">php</a> <a href="http://jamesskemp.github.io/blog/tags/apache" class="tag">apache</a> </div>

          <div class="section share">
            <a href="http://www.facebook.com/sharer.php?src=bm&u=http%3a%2f%2fjamesskemp.github.io%2fblog%2fposts%2fDual-installing-PHP-Running-PHP-5-and-4-on-the-same-local-Windows-based-Apache-server%2f&t=Dual-installing%20PHP%3a%20Running%20PHP%205%20and%204%20on%20the%20same%20local%2c%20Windows-based%2c%20Apache%2c%20server" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-facebook"></i></a>
            <a href="http://twitter.com/intent/tweet?url=http%3a%2f%2fjamesskemp.github.io%2fblog%2fposts%2fDual-installing-PHP-Running-PHP-5-and-4-on-the-same-local-Windows-based-Apache-server%2f&text=Dual-installing%20PHP%3a%20Running%20PHP%205%20and%204%20on%20the%20same%20local%2c%20Windows-based%2c%20Apache%2c%20server&tw_p=tweetbutton" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-twitter"></i></a>
            <a href="https://plus.google.com/share?url=http%3a%2f%2fjamesskemp.github.io%2fblog%2fposts%2fDual-installing-PHP-Running-PHP-5-and-4-on-the-same-local-Windows-based-Apache-server%2f" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-google-plus"></i></a>
            <a href="http://getpocket.com/edit?url=http%3a%2f%2fjamesskemp.github.io%2fblog%2fposts%2fDual-installing-PHP-Running-PHP-5-and-4-on-the-same-local-Windows-based-Apache-server%2f&title=Dual-installing%20PHP%3a%20Running%20PHP%205%20and%204%20on%20the%20same%20local%2c%20Windows-based%2c%20Apache%2c%20server" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-get-pocket"></i></a>
          </div>

          
          
          
        </aside>

      </article>

    </div>
    <div class="col-md-4">
      
<aside class="site">

  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">LatestPosts</h2>
    </div>
    <div class="list-group">
      
      <a href="http://jamesskemp.github.io/blog/posts/review-zagg-slim-cover-surface-4-mc3wkk-bb0/" class="list-group-item">Review: ZAGG Slim Cover, Ultra-Slim Bluetooth Tablet Keyboard for Microsoft Surface Pro 3 and 4 (MC3WKK-BB0)</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/review-sennheiser-hd-471g-headset/" class="list-group-item">Review: Sennheiser HD 471G Headset with Inline Mic and 3 Button Control</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Review-Amazon-Fire-HD-8-2015-release-Case/" class="list-group-item">Review: Amazon Fire HD 8 (2015 release) Case</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Review-Verso-Fire-7-2015-Case-Sea-Blue-Classic-Slim-Fit-Premium-PU-Leather-Book-Folio-Style-Protective-Case-7-inch-Display-5th-Generation-2015-Release-Only/" class="list-group-item">Review: Verso Fire 7 2015 Case - Sea Blue Classic Slim Fit Premium PU Leather Book Folio Style Protective Case (7 inch Display - 5th Generation, 2015 Release Only)</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Review-Fury-of-Dracula-Third-Edition-Board-Game/" class="list-group-item">Review: Fury of Dracula Third Edition Board Game</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Setting-up-a-Raspberry-Pi-2-Samba-server-%28in-early-January-2016%29/" class="list-group-item">Setting up a Raspberry Pi 2 Samba server (in early January 2016)</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Google-Services-on-the-Amazon-Fire-HD-8/" class="list-group-item">Google Services on the Amazon Fire HD 8</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Review-Adonit-Jot-Dash-Fine-Point-Precision-Stylus/" class="list-group-item">Review: Adonit Jot Dash - Fine Point Precision Stylus</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Review-Panasonic-ER-GB60-K-Precision-Beard-and-Hair-Trimmer-for-FaceHair/" class="list-group-item">Review: Panasonic ER-GB60-K Precision Beard and Hair Trimmer for Face/Hair</a>
      
      <a href="http://jamesskemp.github.io/blog/posts/Review-Homeland-The-Game/" class="list-group-item">Review: Homeland: The Game</a>
      
    </div>
  </div>

  
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">category</h2>
    </div>
    <div class="list-group">
      
      <a href="http://jamesskemp.github.io/blog/categories/software" class="list-group-item">software</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/article" class="list-group-item">article</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/review" class="list-group-item">review</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/strivinglife" class="list-group-item">strivinglife</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/philosophy" class="list-group-item">philosophy</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/tutorials-/-guides" class="list-group-item">tutorials-/-guides</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/dvd-/-movie" class="list-group-item">dvd-/-movie</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/internet" class="list-group-item">internet</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/gaming" class="list-group-item">gaming</a>
      
      <a href="http://jamesskemp.github.io/blog/categories/technology" class="list-group-item">technology</a>
      
    </div>
  </div>
  
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">tag</h2>
    </div>
    <div class="list-group">
      
      <a href="http://jamesskemp.github.io/blog/tags/review" class="list-group-item">review</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/.net" class="list-group-item">.net</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/xml" class="list-group-item">xml</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/ghost-in-the-shell" class="list-group-item">ghost-in-the-shell</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/c" class="list-group-item">c#</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/apache" class="list-group-item">apache</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/playstation" class="list-group-item">playstation</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/microsoft" class="list-group-item">microsoft</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/waking-life" class="list-group-item">waking-life</a>
      
      <a href="http://jamesskemp.github.io/blog/tags/ipod" class="list-group-item">ipod</a>
      
    </div>
  </div>
  

</aside>


    </div>
  </div>

</div>

      </div>
    </div>

    <footer class="site">
      <div class="container">
        <p>&copy; 2016 James Skemp&#39;s Test Hugo-Generated Site</p>
        <p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>,</p>
        <p>Theme <a href="https://github.com/dim0627/hugo_theme_robust" target="_blank">Robust</a> designed by <a href="http://yet.unresolved.xyz" target="_blank">Daisuke Tsuji</a></p>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    

  </body>
</html>

