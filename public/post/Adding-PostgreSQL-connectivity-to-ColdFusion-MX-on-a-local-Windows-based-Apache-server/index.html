<!DOCTYPE html>
<html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Hugo 0.17" />
    <title>Adding PostgreSQL connectivity to ColdFusion MX on a local Windows-based, Apache, server &middot; James Skemp&#39;s StrivingLife</title>
    
    
    
    <meta name="description" content="Having already added MySQL support for ColdFusion MX, it&#39;s time to look at adding PostgreSQL. For many of the same reasons we installed PostgreSQL with PHP, we&#39;ll be doing this to add to our potential resources. However, unlike our connection of MySQL with ColdFusion MX, we&#39;ll need to install some additional features to ColdFusion MX." />
    <meta name="keywords" content='postgresql,coldfusion' />
    <meta name="author" content="" />
    <link href="http://words.strivinglife.com/index.xml" rel="alternate" type="application/rss+xml" title="James Skemp&#39;s StrivingLife" />
    <link rel="stylesheet" href="http://words.strivinglife.com/css/bootstrap.min.css" />
    <link rel="stylesheet" href="http://words.strivinglife.com/css/highlightjs-themes/androidstudio.css" />
    <link rel="stylesheet" href="http://words.strivinglife.com/css/font-awesome.min.css" />
    <link rel="stylesheet" href="http://words.strivinglife.com/css/phlat.css" />
</head>

    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://words.strivinglife.com/">James Skemp&#39;s StrivingLife</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="http://words.strivinglife.com/">
                            Home
                        </a>
                    </li>
                
                    <li>
                        <a href="http://strivinglife.com/Words/Feed">
                            Subscribe
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</nav>

        <div id="top" class="container">
            <div class="row" id="content-main">
                <div class="col-md-8">
                    <div class="row">
    <div class="col-md-12 content-card">
        <h1>Adding PostgreSQL connectivity to ColdFusion MX on a local Windows-based, Apache, server</h1>
        
            
            <ul class="list-inline meta">
                <li><i class="fa fa-calendar"></i>March 19, 2006</li>
                <li><i class="fa fa-user"></i>
					
					James Skemp
					
				</li>
                <li><i class="fa fa-folder"></i><a href="http://words.strivinglife.com/categories/tutorials-/-guides">tutorials / guides</a></li>
            </ul>
        
        <p>Having already <a href="http://strivinglife.com/words/post/Adding-MySQL-connectivity-to-ColdFusion-MX-on-a-local-Windows-based-Apache-server.aspx">added MySQL support for ColdFusion MX</a>, it's time to look at adding PostgreSQL. For many of the same reasons we installed PostgreSQL with PHP, we'll be doing this to add to our potential resources. However, unlike our connection of MySQL with ColdFusion MX, we'll need to install some additional features to ColdFusion MX.</p>
<p>(This guide assumes you've already <a href="http://strivinglife.com/words/post/Installing-PostgreSQL-on-a-local-Windows-based-Apache-server.aspx">installed PostgreSQL</a>.)</p>
<h3>Downloading and installing the JDBC Driver</h3>
<p>The first thing we'll need to do is install a special driver for ColdFusion. This driver can be found at <a href="http://jdbc.postgresql.org/">http://jdbc.postgresql.org/</a>. Select Download from the left-side navigation, and you'll be presented with a lot of options. Before we go any further, we'll need to determine what version we'll need to download, which will involve determining our version of JDK.</p>
<p>To determine this, find where you installed ColdFusion MX, and look in the runtime\jre\ folder. If you're not sure of where this is, make sure ColdFusion is started and open the ColdFusion Administrator (<a href="http://localhost/CFIDE/administrator/index.cfm">http://localhost/CFIDE/administrator/index.cfm</a> if you've been following along).</p>
<p>Now, select Java and JVM under SERVER SETTINGS, on the left side. You'll now see a box detailing the Java Virtual Machine Path. Go to this location and open the README.txt file. Here, you'll be able to determine the version. You can also determine your version by checking the Server Information under ColdFusion Administrator. If you've been following along, you're probably using version 1.4.2. Because of this, and because we're using PostgreSQL 8.1, we'll download the JDBC 3, 8.1 Build 405 version (8.1-405 JDBC 3), which is about 400 KB. Save this to your downloads directory.</p>
<p>Now copy this file and move it to C:\CFusionMX\wwwroot\WEB-INF\classes, if you've installed ColdFusion to c:\CFusionMX\. Otherwise, substitute as necessary.</p>
<p>Now, enter the path and name of this file into the Class Path field in ColdFusion Administrator, with a comma at the end. For example, "C:/CFusionMX/wwwroot/WEB-INF/classes/postgresql-8.1-405.jdbc3.jar," (no quotes). Note that we've replaced the '\' with '/' in the path. Now Submit Changes.</p>
<p>Next, open the file at C:\CFusionMX\lib\neo-query.xml in Notepad. Do a search for postgresql, and scroll through until you find the following:</p>
<pre class="code"><code class="xml">&lt;var name='handler'&gt;&lt;string&gt;postgresql.cfm&lt;/string&gt;&lt;/var&gt;</code></pre>
<p>Change this to:</p>
<pre class="code"><code class="xml">&lt;var name='handler'&gt;&lt;string&gt;default.cfm&lt;/string&gt;&lt;/var&gt;</code></pre>
<p>Finally, restart ColdFusion via the Services panel. Note that it may take a little longer for ColdFusion to start, since we've added a new class for ColdFusion to load.</p>
<p>Finally, log back into ColdFusion Administrator and select Data Sources under DATA &amp; SERVICES.</p>
<h3>Creating a new database in PostgreSQL</h3>
<p>The first thing we'll need to do is create a new database in PostgreSQL. Start pgAdmin and connect to the PostgreSQL Database Server 8.1.</p>
<p>Once you've connected, right click on Databases (1), and select New Database. Type in a Name (I used ColdFusion), select an Owner (we'll just use postgres for now), and select a Tablespace (pg_default). Now hit OK.</p>
<h3>Adding PostgreSQL as a data source</h3>
<p>We'll now add PostgreSQL as a data source in ColdFusion Administrator. In the Data Source Name, type in PostgreSQL, and select other for Driver. Now hit Add.</p>
<p>JDBC URL: jdbc:postgresql://localhost:5432/ColdFusion<br />Driver Class: org.postgresql.Driver<br />Driver Name: PostgreSQL<br />Username: postgres<br />Password: your_password (note, this will have been the second password you used, not the first)<br />Description: PostgreSQL database for ColdFusion MX 6.1. (or whatever you want to type)</p>
<p>Note that for JDBC URL, 'ColdFusion' should match the name of the database you created in PostreSQL above. Other than that and Username, your settings should match mine above. Once you do this, it should verify as OK. You can optionally Verify All Connections to verify them all.</p>
<p>Creating a PostgreSQL table in ColdFusion</p>
<p>We'll now create a new file in Notepad and paste the following text within it, to test our ColdFusion to PostgreSQL connection.</p>
<pre class="code"><code class="coldfusion">&lt;cfquery name="CreateNewDatabase" datasource="PostgreSQL"&gt;
CREATE TABLE TestDatabase (
    TestColumn1 text,
    TestColumn2 text
);
CREATE UNIQUE INDEX TestDatabase_TestColumn1_TestColumn2_uidx ON TestDatabase (TestColumn1,TestColumn2);
&lt;/cfquery&gt;
&lt;cfoutput&gt;If you see this, the table has been created&lt;/cfoutput&gt;</code></pre>
<p>Save and run this file (<a href="http://localhost/coldfusionmx6_1/CreatePostgreSQLTable.cfm">http://localhost/coldfusionmx6_1/CreatePostgreSQLTable.cfm</a>), and you should see a notification that the table has been created.</p>
<p>If pgAdmin isn't still running, start it up and dig way down to find this table: PostgreSQL Database Server 8.1 &gt; Databases &gt; ColdFusion &gt; Schemas &gt; public &gt; Tables &gt; testdatabase. Whew.</p>
<p>Note that if you run this file again, you'll receive an error message, saying that the table already exists. Because we haven't added a check into this code to verify whether the table already exists, we'll hit a wall. Obviously, we'd have to add this code in in the real world.</p>
<h3>Dropping/deleting our test table</h3>
<p>Once you've verified that you can create a table, it's time to delete it. Add the following code to the end of the existing code, or create a new document with this code:</p>
<pre class="code"><code class="coldfusion">&lt;cfquery name="DropNewDatabase" datasource="PostgreSQL"&gt;
    DROP TABLE TestDatabase
&lt;/cfquery&gt;
&lt;cfoutput&gt;If you see this, the table has been dropped&lt;/cfoutput&gt;</code></pre>
<p>Run this code, and check pgAdmin to verify that the table no longer exists.</p>
<p>Again, note that if you run this code (just this last part), and the table already has been dropped, you'll get an error. Again, something that would have to be fixed in the real world.</p>
<p>Congratulations once again, as you've successfully setup ColdFusion and PostgreSQL.</p>
<p>As with MySQL, you can access any tables you setup in ColdFusion with PHP, and vice versa, so long as ColdFusion has the data source entered into ColdFusion Administrator.</p>
<p><a href="http://strivinglife.net/wordpress/a-local-apache-web-server-on-a-windows-xp-computer/">View all of the steps to creating a local Web server, for development.</a></p>

        
    <ul class="list-inline tags" style="margin-top: 15px; margin-left: 0px">
        
            <li style=""><a href="http://words.strivinglife.com/tags/postgresql">postgresql</a></li>
        
            <li style=""><a href="http://words.strivinglife.com/tags/coldfusion">coldfusion</a></li>
        
    </ul>


    </div>
</div>

                    
    
        <div class="row">
            <div class="col-md-12 content-card">
                <div id="disqus_thread"></div>
                <script>
                    (function() {
                        if (window.location.hostname == "localhost") {
                            document.write("Disqus comments are unavailable while serving on localhost or 127.0.0.1");
                            return;
                        }
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        var disqus_shortname = 'strivinglife';
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>
        </div>
    


                </div>
                <div class="col-md-4">
                    <div class="row">
    <div class="col-md-11 col-md-offset-1 card">
        <h5>Search</h5>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
            <div class="input-group">
                <input class="form-control" type="search" name="q" />
                <span class="input-group-btn">
                    <button class="btn btn-custom" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
            <input type="hidden" name="q" value="site:http://words.strivinglife.com/">
        </form>
    </div>
</div>

                    <div class="row">
	<div class="col-md-11 col-md-offset-1 card">
		<h5>Links of Note</h5>
		<ul class="list-unstyled">
			<li>
				<a href="http://strivinglife.com/waking-life-transcript-with-revisions/">Waking Life</a>
			</li>
			<li>
				<a href="http://strivinglife.com/ghost-in-the-shell-script/">Ghost in the Shell</a>
			</li>
			<li>
				<a href="http://strivinglife.com/ghost-in-the-shell-2-innocence-script/">Ghost in the Shell 2</a>
			</li>
		</ul>
	</div>
</div>
                    <div class="row">
    <div class="col-md-11 col-md-offset-1 card">
        <h5>Recent Posts</h5>
        <ul class="list-unstyled posts-recent">
            <ul class="list-unstyled posts-recent">
                
                    <li><a href="http://words.strivinglife.com/post/review-unusual-suspects-board-game/">Review: Unusual Suspects Board Game</a></li>
                
                    <li><a href="http://words.strivinglife.com/post/review-lucidsound-ls20-amplified-universal-gaming-headset/">Review: LucidSound LS20 Amplified Universal Gaming Headset</a></li>
                
                    <li><a href="http://words.strivinglife.com/post/review-radiance-led-string-lights/">Review: Radiance LED String Lights</a></li>
                
                    <li><a href="http://words.strivinglife.com/post/how-to-copy-a-pico-8-game-from-a-pocketchip/">How to Copy a PICO-8 Game From a PocketCHIP</a></li>
                
                    <li><a href="http://words.strivinglife.com/post/review-isotoner-mens-microsuede-devin-hoodback-slippers/">Review: Isotoner Men&#39;s Microsuede Devin Hoodback Slippers</a></li>
                
            </ul>
        </ul>
    </div>
</div>

                    <div class="row">
	<div class="col-md-11 col-md-offset-1 card">
		<ins class="adsbygoogle"
			style="display:block"
			data-ad-client="ca-pub-3526066001929698"
			data-ad-slot="3689523691"
			data-ad-format="auto">
		</ins>
	</div>
</div>

                    
    
        <div class="row">
            <div class="col-md-11 col-md-offset-1 card">
                <h5>categories</h5>
                <ul class="list-unstyled posts-recent">
                    
                        <li><a href="http://words.strivinglife.com/categories/software">software</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/review">review</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/article">article</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/strivinglife">strivinglife</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/philosophy">philosophy</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/tutorials-/-guides">tutorials-/-guides</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/dvd-/-movie">dvd-/-movie</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/internet">internet</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/gaming">gaming</a></li>
                    
                        <li><a href="http://words.strivinglife.com/categories/technology">technology</a></li>
                    
                </ul>
            </div>
        </div>
    

    


                    
	<div class="row">
		<div class="col-md-11 col-md-offset-1 card">
			<h5>Support This Site</h5>
			<p>
				If my blog was helpful to you, then please consider visiting my
				<a href="http://amzn.to/22xk0cK" rel="external">Amazon Wishlist</a>.
			</p>
		</div>
	</div>

                </div>
            </div>
        </div>
        <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-xs-6">
    <ul class="list-inline links">
        
    </ul>
</div>

            <div class="col-md-4 col-xs-6">
    <ul class="list-inline social-media">
        
        
        
        
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-md-12">
				<p>
					All content copyright 1999-2016 James Skemp, unless otherwise noted.
					This work is licensed under the Creative Commons License <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Attribution-Noncommercial-No Derivative Works 3.0</a>.
					The opinions expressed herein are my own personal opinions and do not represent my employer's view in anyway. <a href="http://strivinglife.com/privacy_policy.html">Privacy Policy</a>.
					For more information, contact the administrator at strivinglife [at] gmail [dot] com.
				</p>
                <p>
                    Generated using <a href="https://gohugo.io/" rel="external">Hugo</a> and the <a href="https://github.com/nraboy/hugo-phlat-theme" rel="external">Phlat Theme</a>.
                </p>
            </div>
        </div>
    </div>
</footer>

        <div id="back-to-top" class="hidden">
    <a href="#top" class="well well-sm" onclick="$('html,body').animate({scrollTop:0},'slow');return false;">
        <i class="glyphicon glyphicon-chevron-up"></i> Back to Top
    </a>
</div>
<script src="http://words.strivinglife.com/js/jquery-2.2.1.min.js"></script>
<script src="http://words.strivinglife.com/js/bootstrap.min.js"></script>
<script src="http://words.strivinglife.com/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
    if(($(window).height() + 100) < $(document).height()) {
        $('#back-to-top').removeClass('hidden').affix({
            offset: {
                top: 100
            }
        });
    }
</script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    
    if (window.location.hostname == "localhost") {
        $(".adsbygoogle").css("text-decoration", "none");
        $(".adsbygoogle").text("Adsense is unavailable while serving on localhost or 127.0.0.1");
    } else {
        [].forEach.call(document.querySelectorAll('.adsbygoogle'), function() {
            (adsbygoogle = window.adsbygoogle || []).push({});
        });
    }
</script>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-541034-4', 'auto');
        ga('send', 'pageview');
    </script>



    </body>
</html>
